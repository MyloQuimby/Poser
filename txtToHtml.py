import re, sysif(os.name == "mac"):    InFilePath = ":PoserPython.txt"    OutFilepath = ":PoserPython.html"elif(os.name == "dos" or os.name == "nt"):    InFilePath = ".\PoserPython.txt"    OutFilepath = ".\PoserPython.htm"else:	raise "unrecognized operating system\n"#outFile = open(OutFilepath + ".1", "w")outFile = open(OutFilepath, "w")class StdOutRedirect:	def write(self, string):			outFile.write(string)rememberSysStdout = sys.stdoutsys.stdout = StdOutRedirect()try:        file = open(InFilePath)    #text = file.read()    firstflag = 1    i = 0    for line in file.readlines():            #-------------------------------------------------            # Replace "<" with "&lt;"            #-------------------------------------------------            matchstr = re.compile(                    r"""<""",                    re.VERBOSE)                                                                newline = matchstr.sub(r'&lt;', line)                                    #-------------------------------------------------            # Replace ">" with "&gt;"            #-------------------------------------------------            matchstr = re.compile(                    r""">""",                    re.VERBOSE)                                                                            newline = matchstr.sub(r'&gt;', newline)                                    #-------------------------------------------------            # Replace "\n" with "<BR>\n"            #-------------------------------------------------            matchstr = re.compile(                    r"""\n""",                    re.VERBOSE)                        newline = matchstr.sub(r'<BR>\n', newline)                        #-------------------------------------------------            # Replace "Object..\n" with ""            #-------------------------------------------------            matchstr = re.compile(                    r"""^(Object.*)\n""",                    re.VERBOSE)                                newline = matchstr.sub(r'', newline)                                    #-------------------------------------------------            # Replace "blah\n" with "<STRONG><U>blah</U></STRONG>\n            #-------------------------------------------------            matchstr = re.compile(                    r"""^(\w.*)\n""",                    re.VERBOSE)                                if(firstflag):                    newline = matchstr.sub(r'\n<STRONG><U>\1</U></STRONG><BR>\n<UL>\n', newline)                    firstflag = 0            else:                    newline = matchstr.sub(r'</UL>\n<STRONG><U>\1</U></STRONG><BR>\n<UL>\n', newline)                                                                    #-------------------------------------------------            # Replace "    blah\n" with "&nbsp&nbsp&nbsp<STRONG>blah</STRONG>\n            #-------------------------------------------------            matchstr = re.compile(                    r"""^\s\s\s\s(\w.*)\n""",                    re.VERBOSE)                                #newline = matchstr.sub(r'&nbsp&nbsp&nbsp<STRONG>\1</STRONG>\n', newline)            newline = matchstr.sub(r'<TABLE BORDER=0><TR><TD><LI TYPE=CIRCLE><STRONG>\1</STRONG></TD></TR>\n', newline)                                    #-------------------------------------------------            # Replace "        blah\n" with "&nbsp&nbsp&nbsp&nbsp&nbsp&nbspblah\n            #-------------------------------------------------            matchstr = re.compile(                    r"""^\s\s\s\s\s\s\s\s(\w.*)\n""",                    re.VERBOSE)                                #newline = matchstr.sub(r'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\1\n', newline)            newline = matchstr.sub(r'<TR><TD>\1</TD></TR>\n', newline)                                    #-------------------------------------------------            # Replace "        blah\n" with "&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<TT>blah</TT>\n            #-------------------------------------------------            matchstr = re.compile(                    r"""^\s\s\s\s\s\s\s\s([&|\(].*)\n""",                    re.VERBOSE)                                #newline = matchstr.sub(r'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<TT>\1</TT>\n', newline)            newline = matchstr.sub(r'<TR><TD><TT>\1</TT></TD></TR></TABLE>\n', newline)                                    print newline	except:    print "Unexpected error:", sys.exc_info()[0]file.close()outFile.close()sys.stdout = rememberSysStdout		